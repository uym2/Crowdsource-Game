USE uym2$theimgame2016;
DROP procedure IF EXISTS `sp_postObjMark`;

DELIMITER $$
CREATE PROCEDURE `sp_postObjMark`(
	IN p_userID bigint,
	IN p_imgID bigint,
	IN p_topleftX int,
	IN p_topleftY int,
	IN p_bottomrightX int,
	IN p_bottomrightY int
)
BEGIN
	DELETE FROM tbl_objmark
	WHERE img_id = p_imgID AND user_id = p_userID;
	
	INSERT INTO tbl_objmark(
	user_id,
	img_id,
	topleft_x,
	topleft_y,
	bottomright_x,
	bottomright_y
	)
	values(
		p_userID,
		p_imgID,
		p_topleftX,
		p_topleftY,
		p_bottomrightX,
		p_bottomrightY
	);
END$$

DELIMITER ;
